<!--Download button-->
<div class="graphLabvizControls">
    <md-button class="md-fab md-mini md-primary" aria-label="save" ng-click="onCreate()">
        <md-icon md-svg-icon="database-plus"></md-icon>
        <md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">
            create new graph from visualization
        </md-tooltip>
    </md-button>
    <br>
    <md-button class="md-fab md-mini" aria-label="download" ng-click="onDownload()">
        <md-icon md-svg-icon="download"></md-icon>
        <md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">
            download current tab
        </md-tooltip>
    </md-button>
    <br>
    <md-button class="md-fab md-mini" aria-label="delete" ng-click="onClear()">
        <md-icon md-svg-icon="delete"></md-icon>
        <md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">
            clear all query data and visualization
        </md-tooltip>
    </md-button>
</div>
<!--graph and table tabs-->
<md-tabs id="graphLabVizTabs" flex style="height: 100%;">
    <md-tab label="Graph" md-on-select="onTabChanges('graph')">
        <md-tab-label>
            <md-icon md-svg-icon="chart-bubble"></md-icon>
            Graph<span ng-show="blinkers.graph" class="blink">&diams;</span>
        </md-tab-label>
        <md-tab-body ng-class="tab.style" layout="column" layout-fill>
            <!-- The graph container -->
            <div id="graphRendererContainer"></div>
            <div id="filterDivision">

                <!--<div id="filterQueryBox" style="border-bottom: solid #FFAB40 1px" ui-ace="{-->
                  <!--useWrapMode : true,-->
                  <!--showGutter: false,-->
                  <!--theme:'xcode',-->
                  <!--mode: 'xquery',-->
                  <!--firstLineNumber: 1,-->
                  <!--onLoad: aceFilterLoaded,-->
                  <!--onChange: aceFilterChanged-->
                <!--}"></div>-->
                <br>
                <br>
                <table>
                    <tr>
                        <td>
                            <!--<md-radio-group ng-model="filterRadio" layout="row">-->
                                <!--<md-radio-button value="show">-->
                                    <!--<md-icon md-svg-icon="eye"></md-icon>-->
                                    <!--<md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">-->
                                        <!--show on filter-->
                                    <!--</md-tooltip>-->
                                <!--</md-radio-button>-->
                                <!--<md-radio-button value="hide">-->
                                <!--<md-icon md-svg-icon="eye-off"></md-icon>-->
                                <!--<md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">-->
                                <!--hide on filter-->
                                <!--</md-tooltip>-->
                                <!--</md-radio-button>-->
                                <!--<md-radio-button value="highlight">-->
                                    <!--<md-icon md-svg-icon="marker"></md-icon>-->
                                    <!--<md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">-->
                                        <!--highlight on filter-->
                                    <!--</md-tooltip>-->
                                <!--</md-radio-button>-->
                            <!--</md-radio-group>-->
                        </td>
                        <td style="padding-top: 15px; padding-left: 10px;">

                            <md-checkbox ng-click="neighborsOnClick(this)" ng-model="chk.fetchNeighbors" aria-label="Neighbors On Click">
                                <md-icon md-svg-icon="arrow-all"></md-icon>
                                <md-tooltip md-direction="down" md-visible="tooltipVisible" md-autohide="false">
                                    fetch neighbors on click
                                </md-tooltip>
                            </md-checkbox>
                        </td>
                    </tr>
                </table>
                <!--<md-chips class="custom-chips" ng-model="filterChips" style="float:left"-->
                          <!--md-on-remove="removeFilter($chip, $index)">-->
                    <!--<md-chip-template>-->
                    <!--<span>-->
                        <!--<md-tooltip md-direction="top" md-visible="tooltipVisible" md-autohide="false">-->
                            <!--{{$chip.q}}-->
                        <!--</md-tooltip>-->
                      <!--<strong>[{{$index}}]</strong>-->
                    <!--</span>-->
                    <!--</md-chip-template>-->
                <!--</md-chips>-->
            </div>
            <div id="visualizationControls">
                <md-button aria-label="zoom in" class="md-fab md-raised md-mini" ng-click="zoomIn()">
                    <md-icon md-svg-icon="magnify-plus"></md-icon>
                    <md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="false">
                        zoom in
                    </md-tooltip>
                </md-button>
                <br>
                <md-button aria-label="zoom out" class="md-fab md-raised md-mini" ng-click="zoomOut()">
                    <md-icon md-svg-icon="magnify-minus"></md-icon>
                    <md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="false">
                        zoom out
                    </md-tooltip>
                </md-button>
                <br>
                <md-button aria-label="center" class="md-fab md-raised md-mini" ng-click="zoomCenter()">
                    <md-icon md-svg-icon="image-filter-center-focus-weak"></md-icon>
                    <md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="false">
                        center
                    </md-tooltip>
                </md-button>
                <br>
                <!--<md-fab-speed-dial id="visualizationFab" md-open="visTweakIsOpen" md-direction="down"-->
                <md-fab-speed-dial md-open="visTweakIsOpen" md-direction="down"
                                   class="md-scale" ng-class="{ 'md-hover-full': false }"
                                   ng-mouseenter="visTweakIsOpen=true"
                                   ng-mouseleave="visTweakIsOpen=false">
                    <md-fab-trigger>
                        <md-button aria-label="tweak" class="md-fab md-raised md-mini md-warn">
                            <md-icon md-svg-icon="wrench"></md-icon>
                            <md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="false">
                                tweaks
                            </md-tooltip>
                        </md-button>
                    </md-fab-trigger>
                    <md-fab-actions>
                        <md-button aria-label="layout" class="md-fab md-raised md-mini"
                                   ng-click="onTweakLayoutToggle()">
                            <md-icon md-svg-icon="google-circles-extended"></md-icon>
                            <md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="false">
                                run/stop layout
                            </md-tooltip>
                        </md-button>
                    </md-fab-actions>
                </md-fab-speed-dial>
            </div>

        </md-tab-body>
    </md-tab>
    <md-tab label="Results" md-on-select="onTabChanges('results')" ng-disabled="false">
        <md-tab-label>
            <md-icon md-svg-icon="code-greater-than-or-equal"></md-icon>
            Results<span ng-show="blinkers.results" class="blink">&diams;</span>
        </md-tab-label>
        <md-tab-body ng-class="tab.style" layout="column" layout-fill>
            <md-list class="md-dense" flex>
                <md-content ng-repeat="(key,val) in results">
                    <md-content>
                        <md-list-item>
                            <md-card flex style="font-weight: normal;">
                                <md-card-content>
                                    <span><strong><h5 style="margin: 0px">{{val.label}}</h5></strong></span>
                                    <table style="width: 100%">
                                        <tr>
                                            <td valign="top">
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <md-chips style="box-shadow:none">
                                                                <md-chip ng-hide="!(val.local)"
                                                                         style="font-size: 10px; background: #EFAE2E;color:white">
                                                                    L
                                                                    <md-tooltip md-direction="right">
                                                                        Computed Locally
                                                                    </md-tooltip>
                                                                </md-chip>
                                                                <md-chip ng-hide="(val.local)"
                                                                         style="font-size: 10px; background: #DF5A49;color:white">
                                                                    R
                                                                    <md-tooltip md-direction="right">
                                                                        Computed Remotelly
                                                                    </md-tooltip>
                                                                </md-chip>
                                                            </md-chips>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Graph:</td>
                                                        <td><strong>{{val.graph}}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Vertices:</td>
                                                        <td><strong>{{val.vertices}}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Edges:</td>
                                                        <td><strong>{{val.edges}}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Start Time:</td>
                                                        <td><strong>{{val.startTime}}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td>End Time:</td>
                                                        <td><strong>{{val.endTime}}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Total Time:</td>
                                                        <td><strong>{{val.elapsed}}sec</strong></td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td>
                                                <strong>RESULTS</strong>
                                                <json-formatter open="2" json="val.json"></json-formatter>
                                            </td>
                                        </tr>
                                    </table>
                                </md-card-content>
                            </md-card>
                        </md-list-item>
                        <md-divider></md-divider>
                    </md-content>
                </md-content>
            </md-list>
        </md-tab-body>
    </md-tab>
    <md-tab label="Vertex" md-on-select="onTabChanges('vertex')" ng-disabled="true">
        <md-tab-label>
            <md-icon md-svg-icon="checkbox-blank-circle"></md-icon>
            Vertex<span ng-show="blinkers.vertex" class="blink">&diams;</span>
        </md-tab-label>
        <md-tab-body ng-class="tab.style" layout="column" layout-fill>
            <!--MD table toolbar-->
            <md-toolbar class="md-table-toolbar md-default">
                <div class="md-toolbar-tools">
                    <span>Vertices</span>
                </div>
            </md-toolbar>
            <!-- The Edges and Vertices table -->
            <md-table-container>
                <table md-table md-row-select multiple ng-model="selected" md-progress="promise">
                    <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                    <tr md-row>
                        <th md-column md-order-by="nameToLower"><span>Dessert (100g serving)</span>
                        </th>
                        <th md-column md-numeric md-order-by="calories.value"><span>Calories</span>
                        </th>
                        <th md-column md-numeric>Fat (g)</th>
                        <th md-column md-numeric>Carbs (g)</th>
                        <th md-column md-numeric>Protein (g)</th>
                        <th md-column md-numeric>Sodium (mg)</th>
                        <th md-column md-numeric>Calcium (%)</th>
                        <th md-column md-numeric>Iron (%)</th>
                    </tr>
                    </thead>
                    <tbody md-body>
                    <tr md-row md-select="dessert" md-select-id="name" md-auto-select
                        ng-repeat="dessert in desserts.data">
                        <td md-cell>{{dessert.name}}</td>
                        <td md-cell>{{dessert.calories.value}}</td>
                        <td md-cell>{{dessert.fat.value | number: 1}}</td>
                        <td md-cell>{{dessert.carbs.value}}</td>
                        <td md-cell>{{dessert.protein.value | number: 1}}</td>
                        <td md-cell>{{dessert.sodium.value}}</td>
                        <td md-cell>{{dessert.calcium.value}}{{dessert.calcium.unit}}</td>
                        <td md-cell>{{dessert.iron.value}}{{dessert.iron.unit}}</td>
                    </tr>
                    </tbody>
                </table>
            </md-table-container>

            <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]"
                                 md-page="query.page" md-total="{{desserts.count}}"
                                 md-on-paginate="getDesserts" md-page-select></md-table-pagination>
        </md-tab-body>
    </md-tab>
    <md-tab label="Edge" md-on-select="onTabChanges('edge')" ng-disabled="true">
        <md-tab-label>
            <md-icon md-svg-icon="ray-start-arrow"></md-icon>
            Edge<span ng-show="blinkers.edge" class="blink">&diams;</span>
        </md-tab-label>
        <md-tab-body ng-class="tab.style" layout="column" layout-fill>

        </md-tab-body>
    </md-tab>
</md-tabs>